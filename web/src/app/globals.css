/**
 * Global CSS for the Zuralog website.
 *
 * Design system: "Bold Convergence" — dark-first, OLED-black backgrounds,
 * Sage Green primary (#CFE1B9), high-contrast typography.
 *
 * Token layers:
 *   1. Tailwind v4 base import
 *   2. shadcn/ui base styles
 *   3. @theme inline block — maps CSS vars to Tailwind utility names
 *   4. :root — light mode tokens
 *   5. .dark — dark mode tokens (default)
 *   6. @layer base — global resets
 */

@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

/* Grain texture overlay */
@import "../styles/grain.css";

@custom-variant dark (&:is(.dark *));

/* ─── Tailwind theme mapping ────────────────────────────────────────── */
@theme inline {
  /* Semantic color tokens */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Brand-specific tokens */
  --color-sage: var(--sage);
  --color-sage-dim: var(--sage-dim);
  --color-surface: var(--surface);
  --color-surface-elevated: var(--surface-elevated);

  /* Section background tokens (CryptoHub-inspired alternating palette) */
  --color-section-cream: var(--section-cream);
  --color-section-lime: var(--section-lime);
  --color-section-dark: var(--section-dark);
  --color-section-lime-dark: var(--section-lime-dark);

  /* Semantic text tokens for section contrast */
  --color-text-primary: var(--text-primary);
  --color-text-light: var(--text-light);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);

  /* Glow & decorative tokens */
  --color-sage-glow: var(--sage-glow);
  --color-border-light: var(--border-light);
  --color-border-dark: var(--border-dark);

  /* Chart tokens */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Sidebar tokens */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Font families */
  --font-sans: var(--font-inter);
  --font-display: var(--font-satoshi);
  --font-mono: var(--font-mono);

  /* Border radius scale */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --radius-pill: 9999px;
}

/* ─── Light Mode Tokens ─────────────────────────────────────────────── */
:root {
  --radius: 0.75rem;

  /* Zuralog Light — soft white backgrounds, dark text */
  --background: oklch(0.98 0 0);        /* #FAFAFA */
  --foreground: oklch(0.1 0 0);         /* ~#1A1A1A */
  --card: oklch(1 0 0);                 /* #FFFFFF */
  --card-foreground: oklch(0.1 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.1 0 0);

  /* Sage Green primary */
  --primary: oklch(0.84 0.07 140);      /* ~#CFE1B9 */
  --primary-foreground: oklch(0.1 0 0);

  --secondary: oklch(0.94 0 0);
  --secondary-foreground: oklch(0.2 0 0);
  --muted: oklch(0.94 0 0);
  --muted-foreground: oklch(0.5 0 0);
  --accent: oklch(0.84 0.07 140);
  --accent-foreground: oklch(0.1 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.9 0 0);
  --input: oklch(0.9 0 0);
  --ring: oklch(0.84 0.07 140);

  /* Brand extras */
  --sage: oklch(0.84 0.07 140);        /* Sage Green #CFE1B9 */
  --sage-dim: oklch(0.75 0.06 140);    /* Dimmer sage for hover states */
  --surface: oklch(1 0 0);             /* Card surfaces */
  --surface-elevated: oklch(0.97 0 0); /* Elevated surfaces */

  /* Section backgrounds — fixed palette for alternating CryptoHub sections */
  --section-cream: #FAFAF5;               /* Hero, lifestyle — warm off-white */
  --section-lime: #E8F5A8;                /* Full Mobile, Community — energetic lime */
  --section-dark: #2D2D2D;                /* Bento, Networking, Footer — dark charcoal */
  --section-lime-dark: #D4F291;           /* Decorative elements, hover accents */

  /* Semantic text colors for explicit section contrast */
  --text-primary: #1A1A1A;                /* Headlines on light backgrounds */
  --text-light: #F2F2F7;                  /* Headlines on dark backgrounds */
  --text-secondary: #666666;              /* Body text, descriptions */
  --text-muted: #8E8E93;                  /* Captions, placeholders */

  /* Glow & decorative */
  --sage-glow: rgba(207, 225, 185, 0.15); /* Behind 3D elements, hover states */
  --border-light: rgba(0, 0, 0, 0.06);   /* Card borders on light backgrounds */
  --border-dark: rgba(255, 255, 255, 0.06); /* Card borders on dark backgrounds */

  /* Charts */
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  /* Sidebar */
  --sidebar: oklch(0.97 0 0);
  --sidebar-foreground: oklch(0.1 0 0);
  --sidebar-primary: oklch(0.84 0.07 140);
  --sidebar-primary-foreground: oklch(0.1 0 0);
  --sidebar-accent: oklch(0.94 0 0);
  --sidebar-accent-foreground: oklch(0.2 0 0);
  --sidebar-border: oklch(0.9 0 0);
  --sidebar-ring: oklch(0.84 0.07 140);
}

/* ─── Dark Mode Tokens ──────────────────────────────────────────────── */
.dark {
  /* Zuralog Dark — OLED black background, iOS-style surface cards */
  --background: oklch(0 0 0);           /* #000000 — OLED black */
  --foreground: oklch(0.97 0 0);        /* #F8F8F8 */
  --card: oklch(0.14 0 0);              /* #1C1C1E — iOS dark grey */
  --card-foreground: oklch(0.97 0 0);
  --popover: oklch(0.14 0 0);
  --popover-foreground: oklch(0.97 0 0);

  /* Sage Green primary — same hue, slightly brighter on dark */
  --primary: oklch(0.84 0.07 140);      /* #CFE1B9 */
  --primary-foreground: oklch(0.08 0 0);

  --secondary: oklch(0.2 0 0);
  --secondary-foreground: oklch(0.97 0 0);
  --muted: oklch(0.18 0 0);
  --muted-foreground: oklch(0.6 0 0);
  --accent: oklch(0.84 0.07 140);
  --accent-foreground: oklch(0.08 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 8%);          /* Subtle 1px strokes on cards */
  --input: oklch(1 0 0 / 12%);
  --ring: oklch(0.84 0.07 140);

  /* Brand extras */
  --sage: oklch(0.84 0.07 140);
  --sage-dim: oklch(0.72 0.06 140);
  --surface: oklch(0.14 0 0);           /* #1C1C1E */
  --surface-elevated: oklch(0.18 0 0);  /* Elevated surface */

  /* Section backgrounds — same values as light, these are theme-independent */
  --section-cream: #FAFAF5;
  --section-lime: #E8F5A8;
  --section-dark: #2D2D2D;
  --section-lime-dark: #D4F291;

  /* Semantic text colors (same as light — explicit per-section usage) */
  --text-primary: #1A1A1A;
  --text-light: #F2F2F7;
  --text-secondary: #666666;
  --text-muted: #8E8E93;

  /* Glow & decorative */
  --sage-glow: rgba(207, 225, 185, 0.15);
  --border-light: rgba(0, 0, 0, 0.06);
  --border-dark: rgba(255, 255, 255, 0.06);

  /* Charts */
  --chart-1: oklch(0.84 0.07 140);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);

  /* Sidebar */
  --sidebar: oklch(0.12 0 0);
  --sidebar-foreground: oklch(0.97 0 0);
  --sidebar-primary: oklch(0.84 0.07 140);
  --sidebar-primary-foreground: oklch(0.08 0 0);
  --sidebar-accent: oklch(0.18 0 0);
  --sidebar-accent-foreground: oklch(0.97 0 0);
  --sidebar-border: oklch(1 0 0 / 8%);
  --sidebar-ring: oklch(0.84 0.07 140);
}

/* ─── Base Layer Resets ─────────────────────────────────────────────── */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Display headings use Satoshi */
  h1, h2, h3 {
    font-family: var(--font-satoshi), var(--font-inter), sans-serif;
  }

  /* Code blocks use JetBrains Mono */
  code, pre, kbd, samp {
    font-family: var(--font-mono), monospace;
  }
}

/* ─── Typography Scale (CryptoHub-inspired) ─────────────────────────── */
/* These utility classes match the master plan's typography tokens.       */
/* Use these instead of ad-hoc TextStyle objects in components.           */

@layer utilities {
  /* Display: Hero headline only */
  .text-display-hero {
    font-family: var(--font-satoshi), var(--font-inter), sans-serif;
    font-size: clamp(3rem, 5vw + 1rem, 5rem); /* 48-80px */
    font-weight: 900;
    letter-spacing: -0.03em;
    line-height: 1.05;
  }

  /* Display: Section headings */
  .text-display-section {
    font-family: var(--font-satoshi), var(--font-inter), sans-serif;
    font-size: clamp(2.5rem, 4vw + 0.5rem, 3.5rem); /* 40-56px */
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.1;
  }

  /* Heading: Feature titles */
  .text-heading-lg {
    font-family: var(--font-satoshi), var(--font-inter), sans-serif;
    font-size: 2rem; /* 32px */
    font-weight: 700;
    letter-spacing: -0.01em;
    line-height: 1.2;
  }

  /* Heading: Card titles */
  .text-heading-md {
    font-family: var(--font-satoshi), var(--font-inter), sans-serif;
    font-size: 1.5rem; /* 24px */
    font-weight: 600;
    letter-spacing: -0.01em;
    line-height: 1.3;
  }

  /* Body: Lead paragraphs */
  .text-body-lg {
    font-family: var(--font-inter), sans-serif;
    font-size: clamp(1.125rem, 1.5vw, 1.25rem); /* 18-20px */
    font-weight: 400;
    line-height: 1.6;
  }

  /* Body: Standard text (default, but explicit class) */
  .text-body {
    font-family: var(--font-inter), sans-serif;
    font-size: 1rem; /* 16px */
    font-weight: 400;
    line-height: 1.6;
  }

  /* Body: Secondary / smaller text */
  .text-body-sm {
    font-family: var(--font-inter), sans-serif;
    font-size: 0.875rem; /* 14px */
    font-weight: 400;
    line-height: 1.5;
  }

  /* Caption: Labels, counters */
  .text-caption {
    font-family: var(--font-inter), sans-serif;
    font-size: 0.75rem; /* 12px */
    font-weight: 500;
    letter-spacing: 0.02em;
    line-height: 1.4;
  }

  /* Section padding — generous CryptoHub-style vertical breathing room */
  .section-padding {
    padding-top: clamp(5rem, 12vw, 10rem);    /* 80-160px */
    padding-bottom: clamp(5rem, 12vw, 10rem);
  }

  /* Container max-width with horizontal padding */
  .section-container {
    max-width: 1280px;
    margin-left: auto;
    margin-right: auto;
    padding-left: clamp(1.5rem, 4vw, 3rem);   /* 24-48px */
    padding-right: clamp(1.5rem, 4vw, 3rem);
  }
}

/* ─── Animation Keyframes (CryptoHub-inspired) ──────────────────────── */
/* Floating, orbiting, and entrance animations for the redesign.         */

@keyframes float-y {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-15px); }
}

@keyframes float-y-gentle {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-8px); }
}

@keyframes float-y-subtle {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-5px); }
}

@keyframes float-rotate {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50%      { transform: translateY(-12px) rotate(3deg); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 0 rgba(207, 225, 185, 0); }
  50%      { box-shadow: 0 0 20px 4px rgba(207, 225, 185, 0.2); }
}

@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.9); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes draw-line {
  from { stroke-dashoffset: var(--line-length, 1000); }
  to   { stroke-dashoffset: 0; }
}

/* Utility classes for CSS-only floating animations */
@layer utilities {
  .animate-float {
    animation: float-y 5s ease-in-out infinite;
  }

  .animate-float-gentle {
    animation: float-y-gentle 6s ease-in-out infinite;
  }

  .animate-float-subtle {
    animation: float-y-subtle 4s ease-in-out infinite;
  }

  .animate-float-rotate {
    animation: float-rotate 5s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  .animate-scale-in {
    animation: scale-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  /* Animation delay utilities for staggering (100-800ms) */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }
  .delay-600 { animation-delay: 600ms; }
  .delay-700 { animation-delay: 700ms; }
  .delay-800 { animation-delay: 800ms; }
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .animate-float,
  .animate-float-gentle,
  .animate-float-subtle,
  .animate-float-rotate,
  .animate-pulse-glow,
  .animate-fade-in-up,
  .animate-scale-in {
    animation: none !important;
  }
}
